"use strict";Dropzone.autoDiscover=!1,jQuery(function(l){l(document).on("click","#file-upload-types .table-container .file-upload-types-plus",function(e){e.preventDefault();var e=l(this).closest("tr"),t=e.clone();t.find("input").val(""),e.after(t)}).on("click","#file-upload-types .table-container .file-upload-types-minus",function(e){e.preventDefault(),1<l(this).closest("table").find("tr.repetitive-fields").length?l(this).closest("tr").remove():alert(file_upload_types_params.default_section)}).on("keyup keypress","#file-upload-types form",function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1}).on("click","#add-custom-file-types",function(e){e.preventDefault(),l(".repetitive-fields input").first().focus()}).on("input","#file-upload-types-search",function(e){var t=l(this).val().toLowerCase();l(".file-upload-types-table table tr").filter(function(){var e=l(this);e.hasClass("heading")||(""!==t&&e.hasClass("section")?e.hide():e.hasClass("repetitive-fields")&&"none"===e.css("display")&&!e.find("input").toArray().some(e=>""!==e.value)||e.toggle(-1<e.text().toLowerCase().indexOf(t)))})}).on("click","#c_types_file_sample_button a",function(e){e.preventDefault(),l(".repetitive-fields").show()});let i=0;new Dropzone("#c_types_file_sample_button",{url:ajaxurl,uploadMultiple:!1,allowMultiple:!1,previewTemplate:'<div style="display:none"></div>',init:function(){this.on("sending",function(e,t,i){i.append("action","file_upload_types_check_sample"),i.append("nonce",file_upload_types_params.nonce),l(".file-upload-types-dropzone span.icon").addClass("loading")}),this.on("success",function(e,t){0===i?l(".repetitive-fields").show():0<i&&l("#file-upload-types .table-container .file-upload-types-plus").trigger("click"),t.data.extension&&(l(".c_types_file_extension:last").val(t.data.extension),l(".c_types_file_description:last").val(t.data.extension.toUpperCase()+" file")),t.data.mime_type&&l(".c_types_file_mime_type:last").val(t.data.mime_type),l(".file-upload-types-dropzone span.icon").removeClass("loading"),i++})}})});
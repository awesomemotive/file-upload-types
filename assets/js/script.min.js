Dropzone.autoDiscover=!1,jQuery(function(l){l(document).on("click","#file-upload-types .table-container .file-upload-types-plus",function(e){e.preventDefault();var e=l(this).closest("tr"),t=e.clone();t.find("input").val(""),e.after(t),s(),o()}).on("click","#file-upload-types .table-container .file-upload-types-minus",function(e){e.preventDefault(),1<l(this).closest("table").find("tr.repetitive-fields").length?(l(this).closest("tr").remove(),s(),o()):alert(file_upload_types_params.default_section)}).on("keyup keypress","#file-upload-types form",function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1}).on("click","#add-custom-file-types",function(e){e.preventDefault(),l(".repetitive-fields").show(),l(".repetitive-fields input").first().focus()}).on("input","#file-upload-types-search",function(){let t=l(this).val().toLowerCase();l(".file-upload-types-table table tr").filter(function(){var e=l(this);e.hasClass("heading")||(""!==t&&e.hasClass("section")?e.hide():e.hasClass("repetitive-fields")&&"none"===e.css("display")&&!e.find("input").toArray().some(e=>""!==e.value)||e.toggle(-1<e.text().toLowerCase().indexOf(t)))})}).on("click","#c_types_file_sample_button a",function(e){e.preventDefault(),l(".repetitive-fields").show(),s(),o()});let i=0,s=(new Dropzone("#c_types_file_sample_button",{url:ajaxurl,uploadMultiple:!1,allowMultiple:!1,previewTemplate:'<div style="display:none"></div>',init:function(){this.on("sending",function(e,t,i){i.append("action","file_upload_types_check_sample"),i.append("nonce",file_upload_types_params.nonce),l(".file-upload-types-dropzone span.icon").addClass("loading")}),this.on("success",function(e,t){0===i?l(".repetitive-fields").show():0<i&&l("#file-upload-types .table-container .file-upload-types-plus:last").trigger("click"),t.data.extension&&(l(".c_types_file_extension:last").val(t.data.extension),l(".c_types_file_description:last").val(t.data.extension.toUpperCase()+" file")),t.data.mime_type&&l(".c_types_file_mime_type:last").val(t.data.mime_type),l(".file-upload-types-dropzone span.icon").removeClass("loading"),s(),i++}).on("error",function(e,t){l(".file-upload-types-dropzone span.icon").removeClass("loading"),t?.data?.message&&alert(t.data.message)})}}),()=>{var e=l(".file-upload-types-minus");1===e.length?e.first().addClass("first"):e.removeClass("first")}),o=()=>{l("tr.dropzone td").removeClass("rounded-left-bottom rounded-right-bottom"),l("tr.repetitive-fields:not(:last) td:first-child").removeClass("rounded-left-bottom"),l("tr.repetitive-fields:not(:last) td:last-child").removeClass("rounded-right-bottom"),l("tr.repetitive-fields:last td:first-child").addClass("rounded-left-bottom"),l("tr.repetitive-fields:last td:last-child").addClass("rounded-right-bottom")}});